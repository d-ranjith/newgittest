  - name: post-curl
    image: curlimages/curl
    command: ['sh', '-c']
    args:
    - |
      curl -X POST -d "$(inputs.params.data)" "$(inputs.params.endpoint)"
      status=$?
      retries=0
      while [ $status -ne 0 -a $retries -lt $(inputs.params.retries) ]; do
        sleep $(inputs.params.timeout)
        curl -X POST -d "$(inputs.params.data)" "$(inputs.params.endpoint)"
        status=$?
        retries=$((retries+1))
      done
      if [ $status -ne 0 ]; then
        echo "POST operation failed after $(inputs.params.retries) retries"
        exit $status
      fi
  outputs:
    resources:
    - name: status
      type: integer
      
      
          - name: is_static
      description: whether the chart is static or not
      
         - |
      if [ "$(inputs.params.is_static)" = "yes" ]; then
        echo "performing task for chart: $(inputs.params.chart_name)"
        # Perform task here
      else
        echo "Skipping task for chart: $(inputs.params.chart_name)"
      fi
